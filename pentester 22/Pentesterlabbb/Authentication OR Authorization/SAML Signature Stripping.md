## Introduction
-->This course details the exploitation of an insecure SAML implementation that allows a malicious user to become another user by tampering with the SAMLResponse.
-->If you didn't solve our previous exercise on SAML: [SAML: Introduction](https://pentesterlab.com/exercises/saml/) make sure you do before moving to this exercise

## The attack
-->One of the common issues with protocol using signature to prevent tampering comes from the fact that the signature is only verified if it is present. Here we are going to modify the email address inside the signature to become the user admin@libcurl.so for the service provider and we will remove the signature.
-->To do so, we will need to:
-   Start the SAML interaction.
-   Intercept the SAMLResponse.
-   Tamper with the SAMLResponse to change the email address.
-   Remove the content of the <ds:SignatureValue> tag (only the content)
-   Forward the malicious SAMLResponse to the Service Provider.

-->The only tricky part is to make sure you correctly decode, modify and re-encode the SAMLResponse. For this type of modifications, you can just create a small script to automatically do the decoding, tampering and re-encoding. This will make testing faster.
-->For example, you can create a script that will take the SAMLResponse as first argument and echo back the malicious payload. You will then have to copy the malicious SAMLResponse in your proxy.
-->Once you have your little script working, it should be trivial to complete this exercise.

## Conclusion
-->This exercise showed you how to exploit a vulnerability in a SAML implementation impacting the Service Provider. With more and more enterprises using SSO, it's important to ensure that this kind of mistakes gets detected and fixed before they get exploited.

# Video Explanation
## Video 1 introduction
-->The attack :
- Register as any other user on IDP
- Start the SAML authentication
- Intercept the SAML response
- Change your email to admin@libcurl.so (saml first lab il chythathpole)
- Remove the signature value tag (remove chyunathum ee script il purthiya variable ittan chyunath.script ente correct alla so lab complete aakan patula)

## Video 2 exploitation
-->lab complete aakan patula karanam mukalil paranjitund