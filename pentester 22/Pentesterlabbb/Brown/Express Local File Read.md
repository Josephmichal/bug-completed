## Introduction
-->This exercise covers how an insecure to render can be used to gain local file read with Express
-->This course details the exploitation of an insecure call to `render` in `ExpressJS`.
-->This vulnerability is extremely similar to [CVE-2016-2098](https://pentesterlab.com/exercises/cve-2016-2098) and was described in the following post: [The Secret Parameter, LFR, and Potential RCE in NodeJS Apps](https://blog.shoebpatel.com/2021/01/23/The-Secret-Parameter-LFR-and-Potential-RCE-in-NodeJS-Apps/).

## The issue
-->This issue comes from the usage of the `render` method on user-supplied data.
-->The following code illustrates the problem:
```python
	...  
	var username = req.query.username;  
	res.render('index', username);
	...
```
-->The method `render` is usually used to render a page from a template. The second parameter should be a hash, exampled in the following code:
```python
	...
	var username = req.query.username;
	res.render('index', {username: username});
	...
```
-->The `render` function also allows developers to specify a `layout` in the hash. This can be used to read local files.

## Conclusion
-->This exercise showed you how to exploit a local file read in ExpressJS.
-->It's always important to make sure that you check for `Array` and `Hash` formats in parameters when testing a web application, as this may allow you to trigger unexpected behaviour.

# Video Explanation
-->ivide node.js express.js angane ulla oru application il aan namal test chyunath
-->If you are using ExpressJs with Handlebars as templating engine invoked via [hbs](https://www.npmjs.com/package/hbs) view engine, for Server Side Rendering, you are likely vulnerable to Local File Read (LFR) and potential Remote Code Execution (RCE).
-->Add `layout` in your wordlist of parameter discovery/fuzzing for GET query or POST body.
-->If the arbitrary value of `layout` parameter added is resulting in `500 Internal Server Error` with `ENOENT: no such file or directory` in body, You have hit the LFR(Local File Read).
-->so lab open chyuka apol ->http://ptl-8e0e2211-6332315f.libcurl.so/?username[name]=hacker   ee url ilek pokum
-->page il kanikum In this exercise, the objective is to get access to the key stored in `/app/key.txt`
-->so namal ee =hackerjosu enn kodukumbol hackerjosu! enn kanikunund
-->but ivide xss onum aakunila.but namude udhesham ennath RCE aan ok
-->so `/?username[name]=hacker` ennath mati `/?username[layout]=hacker enn kodukuka`  apol :
```js
Error: ENOENT: no such file or directory, open '/app/views/hacker.hbs'
```
enn error kanikum.so ini namuk vendath app/key.txt aan.so `=../../../app/key.txt`  adichal namuk key kitum ok
-->ivide render chyunathil ulla oru kuzhapam aan namal exploit chyunath ok